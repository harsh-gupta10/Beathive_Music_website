<!DOCTYPE html>
<html>
  <head>
    <title>My Everything</title>
    <link rel="stylesheet" href="all_songs.css" />
    <link rel="stylesheet" type="text/css" href="header_footer.css" />
  </head>
  <body>
    <header class="header">
      <a href="index.html"><img src="logo.png" alt="" /></a>
      <nav class="navbar">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="Artist.html">Artists</a></li>
          <li><a href="Album.html">Albums</a></li>
          <li><a href="songs.html">Songs</a></li>
          <li><a href="search.html">Search</a></li>
          <li><a href="playlist.html">Playlist</a></li>

          <li><a href="spotlight.html">Artist Spotlight</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </nav>
    </header>
    <pre></pre>
    <div class="container">
      <h1 class="title">My Everything</h1>
      <img
        class="album-cover"
        src="myeverthing.jpg"
        alt="My Everything Album Cover"
      />
      <ul class="song-list">
        <li class="song">
          <div class="song-title">Intro</div>
          <div class="song-length">1:19</div>
          <button
            class="add-to-playlist"
            data-name="Intro"
            data-duration="1min 19sec"
          >
            Add to Playlist
          </button>
        </li>
        <li class="song">
          <div class="song-title">Problem (feat. Iggy Azalea)</div>
          <div class="song-length">3:14</div>
          <button
            class="add-to-playlist"
            data-name="Problem (feat. Iggy Azalea)"
            data-duration="3min 14sec"
          >
            Add to Playlist
          </button>
        </li>
        <li class="song">
          <div class="song-title">One Last Time</div>
          <div class="song-length">3:17</div>
          <button
            class="add-to-playlist"
            data-name="One Last Time"
            data-duration="3min 17sec"
          >
            Add to Playlist
          </button>
        </li>
        <li class="song">
          <div class="song-title">Why Try</div>
          <div class="song-length">3:31</div>
          <button
            class="add-to-playlist"
            data-name="Why Try"
            data-duration="3min 31sec"
          >
            Add to Playlist
          </button>
        </li>
        <li class="song">
          <div class="song-title">Break Free (feat. Zedd)</div>
          <div class="song-length">3:34</div>
          <button
            class="add-to-playlist"
            data-name="Break Free (feat. Zedd)"
            data-duration="3min 34sec"
          >
            Add to Playlist
          </button>
        </li>
      </ul>
    </div>
    <footer>
      <ul>
        <p style="font-size: 23px">
          <a style="padding: 5px" href="about.html">About</a>
          "Music is a higher form of knowledge than words." - Napoleon Bonaparte
        </p>
      </ul>
      <div style="text-align: center; font-size: 26px">
        Made with &hearts; by
        <a
          style="font-size: 26px; padding: 5px"
          href="https://www.linkedin.com/in/harsh-gupta-4ba4a7254"
          >Harsh</a
        >
        <a
          style="font-size: 26px; padding: 5px"
          href="https://www.linkedin.com/in/tanishq-agarwal-a49609262"
          >Tanishq</a
        >
      </div>
    </footer>
  </body>
  <script>
    const addToPlaylistButtons = document.querySelectorAll(".add-to-playlist");
    addToPlaylistButtons.forEach((button) => {
      // remove the click event listener on the button
      button.removeEventListener("click", null);

      button.addEventListener("click", () => {
        const name = button.getAttribute("data-name");
        const duration = button.getAttribute("data-duration");
        const song = {
          name,
          duration,
        };
        let playlist = JSON.parse(localStorage.getItem("playlist")) || [];

        // check if the song is already in the playlist
        const songIndex = playlist.findIndex(
          (item) => item.name === name && item.duration === duration
        );
        if (songIndex !== -1) {
          alert("Song is already in the playlist!");
          return;
        }

        playlist.push(song);
        localStorage.setItem("playlist", JSON.stringify(playlist));
        // alert('Song added to playlist!');
      });
    });
  </script>
  <script src="header_footer.js"></script>
</html>
